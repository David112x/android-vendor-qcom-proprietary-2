<?xml version="1.0" encoding="utf-8" ?>
<!--========================================================================-->
<!-- Copyright (c) 2017 Qualcomm Technologies, Inc.                         -->
<!-- All Rights Reserved.                                                   -->
<!-- Confidential and Proprietary - Qualcomm Technologies, Inc.             -->
<!--========================================================================-->

<UsecaseDef
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="../../../cdk/topology/pipeline.xsd">

  <module_version>
    <major_revision>1</major_revision>
    <minor_revision>1</minor_revision>
    <incr_revision>0</incr_revision>
  </module_version>


  <Usecase>
    <UsecaseName>UsecaseVideoGPU</UsecaseName>

    <Targets>
      <Target>
        <TargetName>TARGET_BUFFER_PREVIEW</TargetName>
        <TargetDirection>TargetOutput</TargetDirection>
        <TargetFormat>ChiFormatYUV420NV12</TargetFormat>
        <TargetFormat>ChiFormatUBWCNV12</TargetFormat>
        <TargetFormat>ChiFormatUBWCTP10</TargetFormat>
        <Range>
          <MinW>0</MinW>
          <MinH>0</MinH>
          <MaxW>4096</MaxW>
          <MaxH>2448</MaxH>
        </Range>
      </Target>
      <Target>
        <TargetName>TARGET_BUFFER_VIDEO</TargetName>
        <TargetDirection>TargetOutput</TargetDirection>
        <TargetFormat>ChiFormatYUV420NV12</TargetFormat>
        <TargetFormat>ChiFormatYUV420NV21</TargetFormat>
        <TargetFormat>ChiFormatUBWCTP10</TargetFormat>
        <Range>
          <MinW>0</MinW>
          <MinH>0</MinH>
          <MaxW>4096</MaxW>
          <MaxH>2448</MaxH>
        </Range>
      </Target>
    </Targets>

    <StreamConfigMode>0</StreamConfigMode>

    <SystemwideSetting>
      <SettingName>EIS</SettingName>
      <SettingDataType>BOOL</SettingDataType>
      <SettingMatch>FALSE</SettingMatch>
    </SystemwideSetting>

    <Pipeline>
      <PipelineName>Video</PipelineName>
      <NodesList>
        <Node>
          <NodeName>Sensor</NodeName>
          <NodeId>0</NodeId>
          <NodeInstance>SensorInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
        </Node>
        <Node>
          <NodeName>StatsProcessing</NodeName>
          <NodeId>1</NodeId>
          <NodeInstance>StatsProcessingInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
          <NodeProperty>
            <NodePropertyName>NodePropertyCustomLib</NodePropertyName>
            <NodePropertyId>1</NodePropertyId>
            <NodePropertyDataType>STRING</NodePropertyDataType>
            <NodePropertyValue>com.qti.stats.aec</NodePropertyValue>
          </NodeProperty>
          <NodeProperty>
            <NodePropertyName>NodePropertyCustomLib</NodePropertyName>
            <NodePropertyId>1</NodePropertyId>
            <NodePropertyDataType>STRING</NodePropertyDataType>
            <NodePropertyValue>com.qti.stats.awb</NodePropertyValue>
          </NodeProperty>
        </Node>
        <Node>
          <NodeName>AutoFocus</NodeName>
          <NodeId>5</NodeId>
          <NodeInstance>AutoFocusInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
          <NodeProperty>
            <NodePropertyName>NodePropertyCustomLib</NodePropertyName>
            <NodePropertyId>1</NodePropertyId>
            <NodePropertyDataType>STRING</NodePropertyDataType>
            <NodePropertyValue>com.qti.stats.af</NodePropertyValue>
          </NodeProperty>
        </Node>
        <Node>
          <NodeName>IFE</NodeName>
          <NodeId>65536</NodeId>
          <NodeInstance>IFEInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
        </Node>
        <Node>
          <NodeProperty>
            <NodePropertyId>1</NodePropertyId>
            <NodePropertyDataType>STRING</NodePropertyDataType>
            <NodePropertyValue>com.qti.node.gpu</NodePropertyValue>
          </NodeProperty>
          <NodeName>ChiGPUNode</NodeName>
          <NodeId>255</NodeId>
          <NodeInstance>ChiNodeInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
        </Node>
        <Node>
          <NodeName>IPE</NodeName>
          <NodeId>65538</NodeId>
          <NodeInstance>IPEInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
        </Node>
      </NodesList>
      <PortLinkages>
        <SourceNode>Sensor</SourceNode>
        <SourceNodeInstance>SensorInstanceName0</SourceNodeInstance>
        <Link>
          <SrcPort>
            <PortName>SensorOutputPort0</PortName>
            <PortId>0</PortId>
            <NodeName>Sensor</NodeName>
            <NodeId>0</NodeId>
            <NodeInstance>SensorInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>IFEInputPortSensor</PortName>
            <PortId>2</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IFEOutputPortFull</PortName>
            <PortId>0</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>ChiNodeInputPortFull</PortName>
            <PortId>0</PortId>
            <NodeName>ChiGPUNode</NodeName>
            <NodeId>255</NodeId>
            <NodeInstance>ChiNodeInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatYUV420NV12</BufferFormat>
            <BufferImmediateAllocCount>8</BufferImmediateAllocCount>
            <BufferQueueDepth>8</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagLockable</BufferFlags>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>ChiNodeOutputPortFull</PortName>
            <PortId>0</PortId>
            <NodeName>ChiGPUNode</NodeName>
            <NodeId>255</NodeId>
            <NodeInstance>ChiNodeInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>IPEInputPortFull</PortName>
            <PortId>0</PortId>
            <NodeName>IPE</NodeName>
            <NodeId>65538</NodeId>
            <NodeInstance>IPEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatYUV420NV12</BufferFormat>
            <BufferImmediateAllocCount>8</BufferImmediateAllocCount>
            <BufferQueueDepth>8</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>StatsProcessingOutputPort0</PortName>
            <PortId>0</PortId>
            <NodeName>StatsProcessing</NodeName>
            <NodeId>1</NodeId>
            <NodeInstance>StatsProcessingInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>TARGET_BUFFER_PREVIEW</PortName>
            <PortId>0</PortId>
            <NodeName>SinkNoBuffer</NodeName>
            <NodeId>3</NodeId>
            <NodeInstance>SinkInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IFEOutputPortStatsHDRBE</PortName>
            <PortId>17</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>StatsProcessingInputPortHDRBE</PortName>
            <PortId>0</PortId>
            <NodeName>StatsProcessing</NodeName>
            <NodeId>1</NodeId>
            <NodeInstance>StatsProcessingInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatBlob</BufferFormat>
            <BufferSize>16384</BufferSize>
            <BufferImmediateAllocCount>10</BufferImmediateAllocCount>
            <BufferQueueDepth>10</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagLockable</BufferFlags>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IFEOutputPortStatsAWBBG</PortName>
            <PortId>21</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>StatsInputPortAWBBG</PortName>
            <PortId>1</PortId>
            <NodeName>StatsProcessing</NodeName>
            <NodeId>1</NodeId>
            <NodeInstance>StatsProcessingInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatBlob</BufferFormat>
            <BufferSize>16384</BufferSize>
            <BufferImmediateAllocCount>10</BufferImmediateAllocCount>
            <BufferQueueDepth>10</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagLockable</BufferFlags>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IFEOutputPortStatsHDRBHIST</PortName>
            <PortId>18</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>StatsInputPortHDRBHist</PortName>
            <PortId>2</PortId>
            <NodeName>StatsProcessing</NodeName>
            <NodeId>1</NodeId>
            <NodeInstance>StatsProcessingInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatBlob</BufferFormat>
            <BufferSize>3072</BufferSize>
            <BufferImmediateAllocCount>10</BufferImmediateAllocCount>
            <BufferQueueDepth>10</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagLockable</BufferFlags>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IFEOutputPortStatsBF</PortName>
            <PortId>20</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>StatsInputPortBF</PortName>
            <PortId>4</PortId>
            <NodeName>AutoFocus</NodeName>
            <NodeId>5</NodeId>
            <NodeInstance>AutoFocusInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatBlob</BufferFormat>
            <BufferSize>16384</BufferSize>
            <BufferImmediateAllocCount>10</BufferImmediateAllocCount>
            <BufferQueueDepth>10</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagLockable</BufferFlags>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>AutoFocusOutputPort0</PortName>
            <PortId>0</PortId>
            <NodeName>AutoFocus</NodeName>
            <NodeId>5</NodeId>
            <NodeInstance>AutoFocusInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>TARGET_BUFFER_PREVIEW</PortName>
            <PortId>0</PortId>
            <NodeName>SinkNoBuffer</NodeName>
            <NodeId>3</NodeId>
            <NodeInstance>SinkInstanceName3</NodeInstance>
            <NodeInstanceId>3</NodeInstanceId>
          </DstPort>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IPEOutputPortDisplay</PortName>
            <PortId>8</PortId>
            <NodeName>IPE</NodeName>
            <NodeId>65538</NodeId>
            <NodeInstance>IPEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>TARGET_BUFFER_PREVIEW</PortName>
            <PortId>0</PortId>
            <NodeName>SinkBuffer</NodeName>
            <NodeId>2</NodeId>
            <NodeInstance>SinkInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IPEOutputPortVideo</PortName>
            <PortId>9</PortId>
            <NodeName>IPE</NodeName>
            <NodeId>65538</NodeId>
            <NodeInstance>IPEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>TARGET_BUFFER_VIDEO</PortName>
            <PortId>0</PortId>
            <NodeName>SinkBuffer</NodeName>
            <NodeId>2</NodeId>
            <NodeInstance>SinkInstanceName1</NodeInstance>
            <NodeInstanceId>1</NodeInstanceId>
          </DstPort>
        </Link>
      </PortLinkages>
    </Pipeline>
  </Usecase>

  <Usecase>
    <UsecaseName>UsecaseJPEGEncodePreviewSnapshotGPU</UsecaseName>

    <Targets>
      <Target>
        <TargetName>TARGET_BUFFER_PREVIEW</TargetName>
        <TargetDirection>TargetOutput</TargetDirection>
        <TargetFormat>ChiFormatYUV420NV12</TargetFormat>
        <TargetFormat>ChiFormatUBWCNV12</TargetFormat>
        <TargetFormat>ChiFormatUBWCTP10</TargetFormat>
        <Range>
          <MinW>0</MinW>
          <MinH>0</MinH>
          <MaxW>4096</MaxW>
          <MaxH>2448</MaxH>
        </Range>
      </Target>
      <Target>
        <TargetName>TARGET_BUFFER_SNAPSHOT</TargetName>
        <TargetDirection>TargetOutput</TargetDirection>
        <TargetFormat>ChiFormatJpeg</TargetFormat>
        <Range>
          <MinW>0</MinW>
          <MinH>0</MinH>
          <MaxW>4096</MaxW>
          <MaxH>2448</MaxH>
        </Range>
      </Target>
    </Targets>

    <StreamConfigMode>0</StreamConfigMode>

    <SystemwideSetting>
      <SettingName>EIS</SettingName>
      <SettingDataType>BOOL</SettingDataType>
      <SettingMatch>FALSE</SettingMatch>
    </SystemwideSetting>

    <Pipeline>
      <PipelineName>JPEGEncodeSnapshotGPU</PipelineName>
      <NodesList>
        <Node>
          <NodeName>Sensor</NodeName>
          <NodeId>0</NodeId>
          <NodeInstance>SensorInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
        </Node>
        <Node>
          <NodeName>StatsProcessing</NodeName>
          <NodeId>1</NodeId>
          <NodeInstance>StatsProcessingInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
          <NodeProperty>
            <NodePropertyName>NodePropertyCustomLib</NodePropertyName>
            <NodePropertyId>1</NodePropertyId>
            <NodePropertyDataType>STRING</NodePropertyDataType>
            <NodePropertyValue>com.qti.stats.aec</NodePropertyValue>
          </NodeProperty>
          <NodeProperty>
            <NodePropertyName>NodePropertyCustomLib</NodePropertyName>
            <NodePropertyId>1</NodePropertyId>
            <NodePropertyDataType>STRING</NodePropertyDataType>
            <NodePropertyValue>com.qti.stats.awb</NodePropertyValue>
          </NodeProperty>
        </Node>
        <Node>
          <NodeName>AutoFocus</NodeName>
          <NodeId>5</NodeId>
          <NodeInstance>AutoFocusInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
          <NodeProperty>
            <NodePropertyName>NodePropertyCustomLib</NodePropertyName>
            <NodePropertyId>1</NodePropertyId>
            <NodePropertyDataType>STRING</NodePropertyDataType>
            <NodePropertyValue>com.qti.stats.af</NodePropertyValue>
          </NodeProperty>
        </Node>
        <Node>
          <NodeName>IFE</NodeName>
          <NodeId>65536</NodeId>
          <NodeInstance>IFEInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
        </Node>
        <Node>
          <NodeName>BPS</NodeName>
          <NodeId>65539</NodeId>
          <NodeInstance>BPSInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
        </Node>
        <Node>
          <NodeName>IPE</NodeName>
          <NodeId>65538</NodeId>
          <NodeInstance>IPEInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
        </Node>
        <Node>
          <NodeName>IPE</NodeName>
          <NodeId>65538</NodeId>
          <NodeInstance>IPEInstanceName1</NodeInstance>
          <NodeInstanceId>1</NodeInstanceId>
        </Node>
        <Node>
          <NodeProperty>
            <NodePropertyId>1</NodePropertyId>
            <NodePropertyDataType>STRING</NodePropertyDataType>
            <NodePropertyValue>com.qti.node.gpu</NodePropertyValue>
          </NodeProperty>
          <NodeName>ChiGPUNode</NodeName>
          <NodeId>255</NodeId>
          <NodeInstance>ChiNodeInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
        </Node>
        <Node>
          <NodeName>JPEG</NodeName>
          <NodeId>65537</NodeId>
          <NodeInstance>JPEGInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
        </Node>
        <Node>
          <NodeName>JPEGAggregator</NodeName>
          <NodeId>6</NodeId>
          <NodeInstance>JPEGAggregatorInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
        </Node>
      </NodesList>
      <PortLinkages>
        <SourceNode>Sensor</SourceNode>
        <SourceNodeInstance>SensorInstanceName0</SourceNodeInstance>
        <Link>
          <SrcPort>
            <PortName>SensorOutputPort0</PortName>
            <PortId>0</PortId>
            <NodeName>Sensor</NodeName>
            <NodeId>0</NodeId>
            <NodeInstance>SensorInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>IFEInputPortSensor</PortName>
            <PortId>2</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IFEOutputPortFull</PortName>
            <PortId>0</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>IPEInputPortFull</PortName>
            <PortId>0</PortId>
            <NodeName>IPE</NodeName>
            <NodeId>65538</NodeId>
            <NodeInstance>IPEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatUBWCTP10</BufferFormat>
            <BufferImmediateAllocCount>8</BufferImmediateAllocCount>
            <BufferQueueDepth>8</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>StatsProcessingOutputPort0</PortName>
            <PortId>0</PortId>
            <NodeName>StatsProcessing</NodeName>
            <NodeId>1</NodeId>
            <NodeInstance>StatsProcessingInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>TARGET_BUFFER_PREVIEW</PortName>
            <PortId>0</PortId>
            <NodeName>SinkNoBuffer</NodeName>
            <NodeId>3</NodeId>
            <NodeInstance>SinkInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IFEOutputPortStatsHDRBE</PortName>
            <PortId>17</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>StatsProcessingInputPortHDRBE</PortName>
            <PortId>0</PortId>
            <NodeName>StatsProcessing</NodeName>
            <NodeId>1</NodeId>
            <NodeInstance>StatsProcessingInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatBlob</BufferFormat>
            <BufferSize>16384</BufferSize>
            <BufferImmediateAllocCount>10</BufferImmediateAllocCount>
            <BufferQueueDepth>10</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagLockable</BufferFlags>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IFEOutputPortStatsAWBBG</PortName>
            <PortId>21</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>StatsInputPortAWBBG</PortName>
            <PortId>1</PortId>
            <NodeName>StatsProcessing</NodeName>
            <NodeId>1</NodeId>
            <NodeInstance>StatsProcessingInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatBlob</BufferFormat>
            <BufferSize>16384</BufferSize>
            <BufferImmediateAllocCount>10</BufferImmediateAllocCount>
            <BufferQueueDepth>10</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagLockable</BufferFlags>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IFEOutputPortStatsHDRBHIST</PortName>
            <PortId>18</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>StatsInputPortHDRBHist</PortName>
            <PortId>2</PortId>
            <NodeName>StatsProcessing</NodeName>
            <NodeId>1</NodeId>
            <NodeInstance>StatsProcessingInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatBlob</BufferFormat>
            <BufferSize>3072</BufferSize>
            <BufferImmediateAllocCount>10</BufferImmediateAllocCount>
            <BufferQueueDepth>10</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagLockable</BufferFlags>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IFEOutputPortStatsBF</PortName>
            <PortId>20</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>StatsInputPortBF</PortName>
            <PortId>4</PortId>
            <NodeName>AutoFocus</NodeName>
            <NodeId>5</NodeId>
            <NodeInstance>AutoFocusInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatBlob</BufferFormat>
            <BufferSize>16384</BufferSize>
            <BufferImmediateAllocCount>10</BufferImmediateAllocCount>
            <BufferQueueDepth>10</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagLockable</BufferFlags>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>AutoFocusOutputPort0</PortName>
            <PortId>0</PortId>
            <NodeName>AutoFocus</NodeName>
            <NodeId>5</NodeId>
            <NodeInstance>AutoFocusInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>TARGET_BUFFER_PREVIEW</PortName>
            <PortId>0</PortId>
            <NodeName>SinkNoBuffer</NodeName>
            <NodeId>3</NodeId>
            <NodeInstance>SinkInstanceName3</NodeInstance>
            <NodeInstanceId>3</NodeInstanceId>
          </DstPort>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IFEOutputPortRDI0</PortName>
            <PortId>8</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>BPSInputPort</PortName>
            <PortId>0</PortId>
            <NodeName>BPS</NodeName>
            <NodeId>65539</NodeId>
            <NodeInstance>BPSInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatRawMIPI</BufferFormat>
            <BufferImmediateAllocCount>8</BufferImmediateAllocCount>
            <BufferQueueDepth>8</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IPEOutputPortDisplay</PortName>
            <PortId>8</PortId>
            <NodeName>IPE</NodeName>
            <NodeId>65538</NodeId>
            <NodeInstance>IPEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>TARGET_BUFFER_PREVIEW</PortName>
            <PortId>0</PortId>
            <NodeName>SinkBuffer</NodeName>
            <NodeId>2</NodeId>
            <NodeInstance>SinkInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
        </Link>
        <Link>
          <SrcPort>
            <PortName>BPSOutputPortFull</PortName>
            <PortId>1</PortId>
            <NodeName>BPS</NodeName>
            <NodeId>65539</NodeId>
            <NodeInstance>BPSInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>IPEInputPortFull</PortName>
            <PortId>0</PortId>
            <NodeName>IPE</NodeName>
            <NodeId>65538</NodeId>
            <NodeInstance>IPEInstanceName1</NodeInstance>
            <NodeInstanceId>1</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatUBWCTP10</BufferFormat>
            <BufferImmediateAllocCount>8</BufferImmediateAllocCount>
            <BufferQueueDepth>8</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IPEOutputPortDisplay</PortName>
            <PortId>8</PortId>
            <NodeName>IPE</NodeName>
            <NodeId>65538</NodeId>
            <NodeInstance>IPEInstanceName1</NodeInstance>
            <NodeInstanceId>1</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>ChiNodeInputPortFull</PortName>
            <PortId>0</PortId>
            <NodeName>ChiGPUNode</NodeName>
            <NodeId>255</NodeId>
            <NodeInstance>ChiNodeInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatYUV420NV12</BufferFormat>
            <BufferImmediateAllocCount>8</BufferImmediateAllocCount>
            <BufferQueueDepth>8</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagLockable</BufferFlags>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>ChiNodeOutputPortFull</PortName>
            <PortId>0</PortId>
            <NodeName>ChiGPUNode</NodeName>
            <NodeId>255</NodeId>
            <NodeInstance>ChiNodeInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>JPEGInputPort0</PortName>
            <PortId>0</PortId>
            <NodeName>JPEG</NodeName>
            <NodeId>65537</NodeId>
            <NodeInstance>JPEGInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatYUV420NV12</BufferFormat>
            <BufferImmediateAllocCount>8</BufferImmediateAllocCount>
            <BufferQueueDepth>8</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>JPEGOutputPort0</PortName>
            <PortId>1</PortId>
            <NodeName>JPEG</NodeName>
            <NodeId>65537</NodeId>
            <NodeInstance>JPEGInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>JPEGAggregatorInputPort0</PortName>
            <PortId>0</PortId>
            <NodeName>JPEGAggregator</NodeName>
            <NodeId>6</NodeId>
            <NodeInstance>JPEGAggregatorInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatYUV420NV12</BufferFormat>
            <BufferImmediateAllocCount>8</BufferImmediateAllocCount>
            <BufferQueueDepth>8</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
            <BufferFlags>BufferMemFlagLockable</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>JPEGAggregatorOutputPort0</PortName>
            <PortId>1</PortId>
            <NodeName>JPEGAggregator</NodeName>
            <NodeId>6</NodeId>
            <NodeInstance>JPEGAggregatorInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>TARGET_BUFFER_SNAPSHOT</PortName>
            <PortId>0</PortId>
            <NodeName>SinkBuffer</NodeName>
            <NodeId>2</NodeId>
            <NodeInstance>SinkInstanceName2</NodeInstance>
            <NodeInstanceId>2</NodeInstanceId>
          </DstPort>
        </Link>
      </PortLinkages>
    </Pipeline>
  </Usecase>

  <Usecase>
    <UsecaseName>UsecaseJPEGEncodeLiveSnapshotGPU</UsecaseName>

    <Targets>
      <Target>
        <TargetName>TARGET_BUFFER_PREVIEW</TargetName>
        <TargetDirection>TargetOutput</TargetDirection>
        <TargetFormat>ChiFormatYUV420NV12</TargetFormat>
        <TargetFormat>ChiFormatUBWCNV12</TargetFormat>
        <TargetFormat>ChiFormatUBWCTP10</TargetFormat>
        <Range>
          <MinW>0</MinW>
          <MinH>0</MinH>
          <MaxW>4096</MaxW>
          <MaxH>2448</MaxH>
        </Range>
      </Target>
      <Target>
        <TargetName>TARGET_BUFFER_VIDEO</TargetName>
        <TargetDirection>TargetOutput</TargetDirection>
        <TargetFormat>ChiFormatYUV420NV12</TargetFormat>
        <TargetFormat>ChiFormatUBWCTP10</TargetFormat>
        <Range>
          <MinW>0</MinW>
          <MinH>0</MinH>
          <MaxW>4096</MaxW>
          <MaxH>2448</MaxH>
        </Range>
      </Target>
      <Target>
        <TargetName>TARGET_BUFFER_SNAPSHOT</TargetName>
        <TargetDirection>TargetOutput</TargetDirection>
        <TargetFormat>ChiFormatJpeg</TargetFormat>
        <Range>
          <MinW>0</MinW>
          <MinH>0</MinH>
          <MaxW>4096</MaxW>
          <MaxH>2448</MaxH>
        </Range>
      </Target>
    </Targets>

    <StreamConfigMode>0</StreamConfigMode>

    <SystemwideSetting>
      <SettingName>EIS</SettingName>
      <SettingDataType>BOOL</SettingDataType>
      <SettingMatch>FALSE</SettingMatch>
    </SystemwideSetting>

    <Pipeline>
      <PipelineName>JPEGEncodeLiveSnapshotGPU</PipelineName>
      <NodesList>
        <Node>
          <NodeName>Sensor</NodeName>
          <NodeId>0</NodeId>
          <NodeInstance>SensorInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
        </Node>
        <Node>
          <NodeName>StatsProcessing</NodeName>
          <NodeId>1</NodeId>
          <NodeInstance>StatsProcessingInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
          <NodeProperty>
            <NodePropertyName>NodePropertyCustomLib</NodePropertyName>
            <NodePropertyId>1</NodePropertyId>
            <NodePropertyDataType>STRING</NodePropertyDataType>
            <NodePropertyValue>com.qti.stats.aec</NodePropertyValue>
          </NodeProperty>
          <NodeProperty>
            <NodePropertyName>NodePropertyCustomLib</NodePropertyName>
            <NodePropertyId>1</NodePropertyId>
            <NodePropertyDataType>STRING</NodePropertyDataType>
            <NodePropertyValue>com.qti.stats.awb</NodePropertyValue>
          </NodeProperty>
        </Node>
          <Node>
          <NodeName>AutoFocus</NodeName>
          <NodeId>5</NodeId>
          <NodeInstance>AutoFocusInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
          <NodeProperty>
            <NodePropertyName>NodePropertyCustomLib</NodePropertyName>
            <NodePropertyId>1</NodePropertyId>
            <NodePropertyDataType>STRING</NodePropertyDataType>
            <NodePropertyValue>com.qti.stats.af</NodePropertyValue>
          </NodeProperty>
        </Node>
        <Node>
          <NodeName>IFE</NodeName>
          <NodeId>65536</NodeId>
          <NodeInstance>IFEInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
        </Node>
        <Node>
          <NodeName>BPS</NodeName>
          <NodeId>65539</NodeId>
          <NodeInstance>BPSInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
        </Node>
        <Node>
          <NodeName>IPE</NodeName>
          <NodeId>65538</NodeId>
          <NodeInstance>IPEInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
        </Node>
        <Node>
          <NodeName>IPE</NodeName>
          <NodeId>65538</NodeId>
          <NodeInstance>IPEInstanceName1</NodeInstance>
          <NodeInstanceId>1</NodeInstanceId>
        </Node>
        <Node>
          <NodeProperty>
            <NodePropertyId>1</NodePropertyId>
            <NodePropertyDataType>STRING</NodePropertyDataType>
            <NodePropertyValue>com.qti.node.gpu</NodePropertyValue>
          </NodeProperty>
          <NodeName>ChiGPUNode</NodeName>
          <NodeId>255</NodeId>
          <NodeInstance>ChiNodeInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
        </Node>
        <Node>
          <NodeName>JPEG</NodeName>
          <NodeId>65537</NodeId>
          <NodeInstance>JPEGInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
        </Node>
        <Node>
          <NodeName>JPEGAggregator</NodeName>
          <NodeId>6</NodeId>
          <NodeInstance>JPEGAggregatorInstanceName0</NodeInstance>
          <NodeInstanceId>0</NodeInstanceId>
        </Node>
      </NodesList>
      <PortLinkages>
        <SourceNode>Sensor</SourceNode>
        <SourceNodeInstance>SensorInstanceName0</SourceNodeInstance>
        <Link>
          <SrcPort>
            <PortName>SensorOutputPort0</PortName>
            <PortId>0</PortId>
            <NodeName>Sensor</NodeName>
            <NodeId>0</NodeId>
            <NodeInstance>SensorInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>IFEInputPortSensor</PortName>
            <PortId>2</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IFEOutputPortFull</PortName>
            <PortId>0</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>IPEInputPortFull</PortName>
            <PortId>0</PortId>
            <NodeName>IPE</NodeName>
            <NodeId>65538</NodeId>
            <NodeInstance>IPEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatUBWCTP10</BufferFormat>
            <BufferImmediateAllocCount>8</BufferImmediateAllocCount>
            <BufferQueueDepth>8</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>StatsProcessingOutputPort0</PortName>
            <PortId>0</PortId>
            <NodeName>StatsProcessing</NodeName>
            <NodeId>1</NodeId>
            <NodeInstance>StatsProcessingInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>TARGET_BUFFER_PREVIEW</PortName>
            <PortId>0</PortId>
            <NodeName>SinkNoBuffer</NodeName>
            <NodeId>3</NodeId>
            <NodeInstance>SinkInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IFEOutputPortStatsHDRBE</PortName>
            <PortId>17</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>StatsProcessingInputPortHDRBE</PortName>
            <PortId>0</PortId>
            <NodeName>StatsProcessing</NodeName>
            <NodeId>1</NodeId>
            <NodeInstance>StatsProcessingInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatBlob</BufferFormat>
            <BufferSize>16384</BufferSize>
            <BufferImmediateAllocCount>10</BufferImmediateAllocCount>
            <BufferQueueDepth>10</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagLockable</BufferFlags>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IFEOutputPortStatsAWBBG</PortName>
            <PortId>21</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>StatsInputPortAWBBG</PortName>
            <PortId>1</PortId>
            <NodeName>StatsProcessing</NodeName>
            <NodeId>1</NodeId>
            <NodeInstance>StatsProcessingInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatBlob</BufferFormat>
            <BufferSize>16384</BufferSize>
            <BufferImmediateAllocCount>10</BufferImmediateAllocCount>
            <BufferQueueDepth>10</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagLockable</BufferFlags>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IFEOutputPortStatsHDRBHIST</PortName>
            <PortId>18</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>StatsInputPortHDRBHist</PortName>
            <PortId>2</PortId>
            <NodeName>StatsProcessing</NodeName>
            <NodeId>1</NodeId>
            <NodeInstance>StatsProcessingInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatBlob</BufferFormat>
            <BufferSize>3072</BufferSize>
            <BufferImmediateAllocCount>10</BufferImmediateAllocCount>
            <BufferQueueDepth>10</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagLockable</BufferFlags>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IFEOutputPortStatsBF</PortName>
            <PortId>20</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>StatsInputPortBF</PortName>
            <PortId>4</PortId>
            <NodeName>AutoFocus</NodeName>
            <NodeId>5</NodeId>
            <NodeInstance>AutoFocusInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatBlob</BufferFormat>
            <BufferSize>16384</BufferSize>
            <BufferImmediateAllocCount>10</BufferImmediateAllocCount>
            <BufferQueueDepth>10</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagLockable</BufferFlags>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>AutoFocusOutputPort0</PortName>
            <PortId>0</PortId>
            <NodeName>AutoFocus</NodeName>
            <NodeId>5</NodeId>
            <NodeInstance>AutoFocusInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>TARGET_BUFFER_PREVIEW</PortName>
            <PortId>0</PortId>
            <NodeName>SinkNoBuffer</NodeName>
            <NodeId>3</NodeId>
            <NodeInstance>SinkInstanceName3</NodeInstance>
            <NodeInstanceId>3</NodeInstanceId>
          </DstPort>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IFEOutputPortRDI0</PortName>
            <PortId>8</PortId>
            <NodeName>IFE</NodeName>
            <NodeId>65536</NodeId>
            <NodeInstance>IFEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>BPSInputPort</PortName>
            <PortId>0</PortId>
            <NodeName>BPS</NodeName>
            <NodeId>65539</NodeId>
            <NodeInstance>BPSInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatRawMIPI</BufferFormat>
            <BufferImmediateAllocCount>8</BufferImmediateAllocCount>
            <BufferQueueDepth>8</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IPEOutputPortDisplay</PortName>
            <PortId>8</PortId>
            <NodeName>IPE</NodeName>
            <NodeId>65538</NodeId>
            <NodeInstance>IPEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>TARGET_BUFFER_PREVIEW</PortName>
            <PortId>0</PortId>
            <NodeName>SinkBuffer</NodeName>
            <NodeId>2</NodeId>
            <NodeInstance>SinkInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IPEOutputPortVideo</PortName>
            <PortId>9</PortId>
            <NodeName>IPE</NodeName>
            <NodeId>65538</NodeId>
            <NodeInstance>IPEInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>TARGET_BUFFER_VIDEO</PortName>
            <PortId>0</PortId>
            <NodeName>SinkBuffer</NodeName>
            <NodeId>2</NodeId>
            <NodeInstance>SinkInstanceName1</NodeInstance>
            <NodeInstanceId>1</NodeInstanceId>
          </DstPort>
        </Link>
        <Link>
          <SrcPort>
            <PortName>BPSOutputPortFull</PortName>
            <PortId>1</PortId>
            <NodeName>BPS</NodeName>
            <NodeId>65539</NodeId>
            <NodeInstance>BPSInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>IPEInputPortFull</PortName>
            <PortId>0</PortId>
            <NodeName>IPE</NodeName>
            <NodeId>65538</NodeId>
            <NodeInstance>IPEInstanceName1</NodeInstance>
            <NodeInstanceId>1</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatUBWCTP10</BufferFormat>
            <BufferImmediateAllocCount>8</BufferImmediateAllocCount>
            <BufferQueueDepth>8</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>IPEOutputPortDisplay</PortName>
            <PortId>8</PortId>
            <NodeName>IPE</NodeName>
            <NodeId>65538</NodeId>
            <NodeInstance>IPEInstanceName1</NodeInstance>
            <NodeInstanceId>1</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>ChiNodeInputPortFull</PortName>
            <PortId>0</PortId>
            <NodeName>ChiGPUNode</NodeName>
            <NodeId>255</NodeId>
            <NodeInstance>ChiNodeInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatYUV420NV12</BufferFormat>
            <BufferImmediateAllocCount>8</BufferImmediateAllocCount>
            <BufferQueueDepth>8</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagLockable</BufferFlags>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>ChiNodeOutputPortFull</PortName>
            <PortId>0</PortId>
            <NodeName>ChiGPUNode</NodeName>
            <NodeId>255</NodeId>
            <NodeInstance>ChiNodeInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>JPEGInputPort0</PortName>
            <PortId>0</PortId>
            <NodeName>JPEG</NodeName>
            <NodeId>65537</NodeId>
            <NodeInstance>JPEGInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatYUV420NV12</BufferFormat>
            <BufferImmediateAllocCount>8</BufferImmediateAllocCount>
            <BufferQueueDepth>8</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>JPEGOutputPort0</PortName>
            <PortId>1</PortId>
            <NodeName>JPEG</NodeName>
            <NodeId>65537</NodeId>
            <NodeInstance>JPEGInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>JPEGAggregatorInputPort0</PortName>
            <PortId>0</PortId>
            <NodeName>JPEGAggregator</NodeName>
            <NodeId>6</NodeId>
            <NodeInstance>JPEGAggregatorInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </DstPort>
          <BufferProperties>
            <BufferFormat>ChiFormatYUV420NV12</BufferFormat>
            <BufferImmediateAllocCount>8</BufferImmediateAllocCount>
            <BufferQueueDepth>8</BufferQueueDepth>
            <BufferHeap>Ion</BufferHeap>
            <BufferFlags>BufferMemFlagHw</BufferFlags>
            <BufferFlags>BufferMemFlagLockable</BufferFlags>
          </BufferProperties>
        </Link>
        <Link>
          <SrcPort>
            <PortName>JPEGAggregatorOutputPort0</PortName>
            <PortId>1</PortId>
            <NodeName>JPEGAggregator</NodeName>
            <NodeId>6</NodeId>
            <NodeInstance>JPEGAggregatorInstanceName0</NodeInstance>
            <NodeInstanceId>0</NodeInstanceId>
          </SrcPort>
          <DstPort>
            <PortName>TARGET_BUFFER_SNAPSHOT</PortName>
            <PortId>0</PortId>
            <NodeName>SinkBuffer</NodeName>
            <NodeId>2</NodeId>
            <NodeInstance>SinkInstanceName2</NodeInstance>
            <NodeInstanceId>2</NodeInstanceId>
          </DstPort>
        </Link>
      </PortLinkages>
    </Pipeline>
  </Usecase>

</UsecaseDef>
